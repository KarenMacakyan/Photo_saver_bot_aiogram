# Telegram Photo Bot with Google Drive Integration

–≠—Ç–æ—Ç –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏–∑ Telegram –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–∞–ø–∫–∏ –∏ Google Drive, –æ—Ä–≥–∞–Ω–∏–∑—É—è –∏—Ö –ø–æ –¥–∞—Ç–∞–º –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–¥–ø–∏—Å—è–º.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- üì∏ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏–∑ Telegram —á–∞—Ç–∞
- üìÅ –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫–∏ –ø–æ –¥–∞—Ç–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ DD.MM (–Ω–∞–ø—Ä–∏–º–µ—Ä, "31.07")
- üìÑ –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–¥–ø–∏—Å–∏ –∫ —Ñ–æ—Ç–æ
- üî§ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –±–µ–∑ –ø–æ–¥–ø–∏—Å–∏
- üíæ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ñ–æ—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –≤ Google Drive
- üö´ –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫—Ä–æ–º–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –ü–æ–ª—É—á–∏—Ç–µ API —Ç–æ–∫–µ–Ω
3. –í—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `API_TOKEN` –≤ —Ñ–∞–π–ª–µ `main.py`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Drive API

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ Google Drive API
4. –°–æ–∑–¥–∞–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (OAuth 2.0 Client ID)
5. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `credentials.json` –∏ –ø–æ–º–µ—Å—Ç–∏—Ç–µ –µ–≥–æ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Drive –ø–∞–ø–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Drive](https://drive.google.com)
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –ø–∞–ø–∫–∏ –∏–∑ URL (–ø–æ—Å–ª–µ `/folders/`)
4. –í—Å—Ç–∞–≤—å—Ç–µ ID –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `GOOGLE_DRIVE_FOLDER_ID` –≤ —Ñ–∞–π–ª–µ `main.py`

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python main.py
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Google Drive. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `token.pickle`.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start` –±–æ—Ç—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é —Å –ø–æ–¥–ø–∏—Å—å—é –∏–ª–∏ –±–µ–∑ –Ω–µ—ë
3. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Ñ–æ—Ç–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–∞–ø–∫—É
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/status` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google Drive

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Ilya_bot/
‚îú‚îÄ‚îÄ main.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ credentials.json    # Google API credentials (–Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å)
‚îú‚îÄ‚îÄ token.pickle        # Google auth token (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ photos/             # –õ–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
    ‚îú‚îÄ‚îÄ 31.07/          # –ü–∞–ø–∫–∏ –ø–æ –¥–∞—Ç–∞–º
    ‚îú‚îÄ‚îÄ 01.08/
    ‚îî‚îÄ‚îÄ ...
```

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ
- `/status` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Google Drive

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- –ï—Å–ª–∏ Google Drive –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Ñ–æ—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ
- –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç—Å—è
- –î–ª–∏–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ë–æ—Ç –Ω–∞–ø–∏—Å–∞–Ω –º–æ–¥—É–ª—å–Ω–æ –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

- `GoogleDriveManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Google Drive
- `handle_photo()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- `sanitize_filename()` - –æ—á–∏—Å—Ç–∫–∞ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- Google Cloud Project —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º Drive API
- Telegram Bot Token

## –í–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫

- aiogram 3.x - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è Telegram Bot API
- Google API Python Client - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Google Drive 